# Sentinel Report

## Ecosystem Health: B

### Summary

The ecosystem is in good health following the CLAUDE.md philosophy rewrite. The upgrade successfully aligned both the global and project CLAUDE.md files with the refined development philosophy. No old section names ("Core Philosophy", "Self-Improvement", "Agents and Subagents", "Ecosystem Awareness") leak into any active artifact. The agent coordination protocol rule, all 11 agent definitions, and all 17 skills are structurally sound. README catalogs are accurate. The token budget is within limits.

The main areas needing attention are: (1) five crafting skills still use `compatibility: Claude Code` in frontmatter, contradicting the ecosystem's tool-agnostic positioning; (2) the `rule-crafting` skill description says "Claude Code rules" instead of being tool-agnostic; (3) the `agent-crafting` skill's README lists only 5 of 11 agents; (4) the `cicd-engineer` agent is missing from the coordination protocol rule's Available Agents table; and (5) historical `.ai-state/` files reference the deleted `agents/references/sentinel-checks.md` file and old rule name `software-agents-usage.md`.

**Comparison to last run (2026-02-08):** Artifact count increased from 31 to 45 (17 skills up from 10, 11 agents up from 8, 6 rules stable, 11 commands up from 7). Health grade remains B. The `software-agents-usage.md` rule was renamed to `swe-agent-coordination-protocol.md` and fully restructured. The `agents/references/` directory no longer exists (sentinel check catalog was internalized). The phantom skills (`stock-clusters/`, `ticker/`) from the previous report have been cleaned up. The token budget improved from ~11,000 tokens to ~8,100 tokens (within the 8,500 limit).

### Ecosystem Coherence: B

**System-level EC checks:**

| Check | Result | Evidence |
|-------|--------|----------|
| EC01 | PASS | Pipeline diagram in `agents/README.md` lists all 11 agents by name; all match files in `agents/*.md` |
| EC04 | PASS | Every pipeline output document has a producing agent and consuming agent documented in the coordination protocol |
| EC05 | WARN | The `cicd-engineer` agent exists but is not listed in the coordination protocol rule's Available Agents table, creating a gap in the coordination framework for CI/CD work |

**Cross-dimension anomalies:**

- Five crafting skills use `compatibility: Claude Code` in frontmatter while the ecosystem describes itself as "tool-agnostic" (`README.md`, `agents/README.md`, and `skills/README.md` all emphasize tool-agnosticism). This is a consistency anomaly spanning the Consistency and Coherence dimensions.
- The `agent-crafting` skill README's "Current Agents" table lists only 5 of 11 agents. This is a cross-reference integrity issue that also affects ecosystem coherence since the skill is the authoritative crafting reference for agents.

**Artifact coherence distribution:**

- A: 36 artifacts (13 skills, 10 agents, 6 rules, all 11 commands minus adjustments below)
- B: 8 artifacts (rule-crafting, agent-crafting, command-crafting, doc-management, software-planning skills; cicd-engineer agent; swe-agent-coordination-protocol rule; agent-crafting README is part of agent-crafting skill score)
- C: 0
- D: 0
- F: 0

**Synthesis:**

The ecosystem works well as a connected whole. The CLAUDE.md rewrite created strong philosophical alignment: the global file defines principles and methodology, the project file maps principles to ecosystem components, and the coordination protocol rule operationalizes the agent pipeline. The main friction point is the tool-agnostic vs. Claude-Code-specific tension in crafting skill descriptions -- the ecosystem tells users it is tool-agnostic, but crafting skills still reference Claude Code specifically. This is a branding inconsistency, not a functional one.

### Ecosystem Metrics

| Metric | Value | Trend |
|--------|-------|-------|
| Total artifacts | 45 (17 skills, 11 agents, 6 rules, 11 commands) | Up from 31 |
| Skills | 17 | Up from 10 |
| Agents | 11 | Up from 8 |
| Rules (excluding READMEs) | 6 | Stable (renamed, not added) |
| Commands (excluding README) | 11 | Up from 7 |
| Reference files | 29 | Stable |
| Always-loaded tokens (est.) | ~8,100 | Improved from ~11,000 |
| Token budget headroom | ~400 tokens (4.7%) | Improved from -2,500 (over budget) |
| Findings (Critical/Important/Suggested) | 0/4/7 | Improved from 0/5/6 |

### Scorecard

| Artifact | Type | Complete (C) | Consistent (N) | Fresh (F) | Spec (S) | Cross-Ref (X) | Tokens (T) | Coherence (EC) | Overall |
|----------|------|--------------|-----------------|-----------|----------|----------------|------------|----------------|---------|
| `skill-crafting` | Skill | A | A | A | A | A | A | A | A |
| `agent-crafting` | Skill | A | B | A | A | C | A | B | B |
| `command-crafting` | Skill | A | B | A | A | A | A | A | B |
| `mcp-crafting` | Skill | A | A | A | A | A | A | A | A |
| `rule-crafting` | Skill | A | B | A | A | A | A | B | B |
| `claude-ecosystem` | Skill | A | A | A | A | A | A | A | A |
| `agentic-sdks` | Skill | A | A | A | A | A | A | A | A |
| `communicating-agents` | Skill | A | A | A | A | A | A | A | A |
| `doc-management` | Skill | A | B | A | A | A | A | A | B |
| `python-development` | Skill | A | A | A | A | A | A | A | A |
| `python-prj-mgmt` | Skill | A | A | A | A | A | A | A | A |
| `refactoring` | Skill | A | A | A | A | A | A | A | A |
| `code-review` | Skill | A | A | A | A | A | A | A | A |
| `software-planning` | Skill | A | B | A | A | A | A | A | B |
| `cicd` | Skill | A | A | A | A | A | A | A | A |
| `memory` | Skill | A | A | A | A | A | A | A | A |
| `github-star` | Skill | A | A | A | A | A | A | A | A |
| `promethean` | Agent | A | A | A | A | A | A | A | A |
| `researcher` | Agent | A | A | A | A | A | A | A | A |
| `systems-architect` | Agent | A | A | A | A | A | A | A | A |
| `implementation-planner` | Agent | A | A | A | A | A | A | A | A |
| `context-engineer` | Agent | A | A | A | A | A | A | A | A |
| `implementer` | Agent | A | A | A | A | A | A | A | A |
| `verifier` | Agent | A | A | A | A | A | A | A | A |
| `doc-engineer` | Agent | A | A | A | A | A | A | A | A |
| `sentinel` | Agent | A | A | A | A | A | A | A | A |
| `skill-genesis` | Agent | A | A | A | A | A | A | A | A |
| `cicd-engineer` | Agent | A | B | A | A | A | A | B | B |
| `coding-style` | Rule | A | A | A | A | A | A | A | A |
| `swe-agent-coordination-protocol` | Rule | A | A | A | A | B | A | B | B |
| `agent-intermediate-documents` | Rule | A | A | A | A | A | A | A | A |
| `git-commit-hygiene` | Rule | A | A | A | A | A | A | A | A |
| `git-commit-message-format` | Rule | A | A | A | A | A | A | A | A |
| `readme-style` | Rule | A | A | A | A | A | A | A | A |
| `add-rules` | Command | A | A | A | A | A | A | A | A |
| `co` | Command | A | A | A | A | A | A | A | A |
| `cop` | Command | A | A | A | A | A | A | A | A |
| `create-worktree` | Command | A | A | A | A | A | A | A | A |
| `merge-worktree` | Command | A | A | A | A | A | A | A | A |
| `create-simple-python-prj` | Command | A | A | A | A | A | A | A | A |
| `manage-readme` | Command | A | A | A | A | A | A | A | A |
| `clean-work` | Command | A | A | A | A | A | A | A | A |
| `memory` | Command | A | A | A | A | A | A | A | A |
| `onboard-project` | Command | A | A | A | A | A | A | A | A |
| `star-repo` | Command | A | A | A | A | A | A | A | A |

### Findings

#### Critical (blocks correct behavior)

*None*

#### Important (degrades quality or efficiency)

| # | Check | Dimension | Location | Finding | Recommended Action | Owner |
|---|-------|-----------|----------|---------|-------------------|-------|
| 1 | X05 | Cross-Ref | `rules/swe/swe-agent-coordination-protocol.md` | The Available Agents table lists 10 agents but the `cicd-engineer` agent exists in `agents/cicd-engineer.md` and is registered in `plugin.json`. The coordination protocol is the authoritative source for agent selection; omitting `cicd-engineer` means the main agent lacks guidance on when to delegate CI/CD work. | Add `cicd-engineer` row to the Available Agents table: `cicd-engineer \| CI/CD pipeline design, GitHub Actions \| Workflow files \| Yes` | `context-engineer` |
| 2 | X07, EC03 | Cross-Ref, Coherence | `skills/agent-crafting/README.md` | The "Current Agents in This Repository" table lists only 5 agents (promethean, researcher, systems-architect, implementation-planner, context-engineer). Six agents are missing: implementer, verifier, doc-engineer, sentinel, skill-genesis, cicd-engineer. This README serves as the crafting skill's reference catalog and is incomplete. | Update the agent table to list all 11 agents | `context-engineer` |
| 3 | N04 | Consistency | `skills/rule-crafting/SKILL.md:2`, `skills/agent-crafting/SKILL.md:2`, `skills/command-crafting/SKILL.md:2` | Three crafting skill descriptions reference "Claude Code" specifically (e.g., "Creating and managing Claude Code rules", "Creating and configuring Claude Code agents", "Creating and managing slash commands for Claude Code") while the ecosystem positions itself as tool-agnostic. The main `README.md`, `agents/README.md`, and `skills/README.md` all use "tool-agnostic" language. | Update descriptions to be tool-agnostic: "Creating and managing rules for AI coding assistants" etc. Align with the ecosystem's positioning. | `context-engineer` |
| 4 | N03 | Consistency | `skills/rule-crafting/SKILL.md:9`, `skills/command-crafting/SKILL.md:4`, `skills/doc-management/SKILL.md:3`, `skills/agent-crafting/SKILL.md:3`, `skills/software-planning/SKILL.md:3` | Five skills use `compatibility: Claude Code` in YAML frontmatter. This is not a recognized field in the Agent Skills standard (which defines `description`, `allowed-tools`, `argument-hint`, and a few others). It also contradicts the tool-agnostic positioning. 12 of 17 skills omit this field, showing the inconsistency. | Remove `compatibility: Claude Code` from the five affected SKILL.md files. If tool-specific notes are needed, include them in the skill content body, not frontmatter. | `context-engineer` |

#### Suggested (improves but not urgent)

| # | Check | Dimension | Location | Finding | Recommended Action | Owner |
|---|-------|-----------|----------|---------|-------------------|-------|
| 5 | F01 | Freshness | `.ai-state/IDEA_LEDGER_2026-02-09_17-30-00.md:13` | References `agents/references/sentinel-checks.md` which no longer exists (check catalog was internalized into `agents/sentinel.md`). This is a historical record, so the reference is descriptively accurate for the time it was written, but could confuse readers. | No action required -- idea ledger entries are historical records. Note for awareness only. | -- |
| 6 | F01 | Freshness | `.ai-state/TOKEN_BUDGETING_*.md` | Two token budgeting reports reference `software-agents-usage.md` (now renamed to `swe-agent-coordination-protocol.md`) and `agents/references/sentinel-checks.md` (deleted). These are point-in-time analysis documents. | No action required -- these are historical analysis documents. Note for awareness. | -- |
| 7 | T03 | Tokens | `agents/sentinel.md` | Check catalog is embedded in the sentinel agent definition (257 lines). This is within the 500-line agent ceiling but above the 300-line WARN threshold. The definition is self-contained by necessity (agents cannot use progressive disclosure cross-project). | Monitor sentinel definition size. If it grows beyond 400 lines, consider compressing the check catalog. | `user` |
| 8 | N06 | Consistency | `skills/rule-crafting/SKILL.md:2` | Description says "Claude Code rules" but `rules/README.md` explicitly describes rules as "compatible with Claude and Cursor". This is a tone inconsistency specific to rule-crafting -- covered by finding #3 but worth highlighting as the most jarring instance since the rules README itself emphasizes multi-tool compatibility. | Covered by finding #3. | `context-engineer` |
| 9 | T02 | Tokens | Always-loaded content | Estimated ~8,100 tokens (~28,350 chars). Within the 8,500-token budget with ~400 tokens (4.7%) headroom. The coordination protocol rule is the single largest always-loaded rule at ~7,800 chars (~2,229 tokens, 27.5% of total). Headroom is tight. | Exercise caution when adding content to always-loaded files. Any new rule or CLAUDE.md expansion may push over the limit. | `user` |
| 10 | EC02 | Coherence | `skills/mcp-crafting`, `skills/python-prj-mgmt` | These two skills are not referenced by any agent's `skills` field. They are user-facing only (activated by context matching, not agent delegation). This is by design per the ecosystem's auto-discovery model, not a defect. | No action required -- documented as expected. | -- |
| 11 | N04 | Consistency | Terminology | The term "context artifact" is used consistently across all active artifacts (50 occurrences across 16 files). No instances of the alternative "context file" were found. Terminology is aligned with the upgraded CLAUDE.md philosophy. | No action needed. Verified correct. | -- |

### Pipeline Discipline

Skipped: Task Chronograph MCP tools not available in this session.

### Self-Verification

| Check | Result | Evidence |
|-------|--------|----------|
| V01 | PASS | `./agents/sentinel.md` is listed in `.claude-plugin/plugin.json` agents array (line 61) |
| V02 | PASS | Sentinel row exists in `rules/swe/swe-agent-coordination-protocol.md` Available Agents table (line 17) |
| V03 | PASS | Sentinel row exists in `agents/README.md` agent table (line 50) |
| V04 | PASS | Check catalog section exists in `agents/sentinel.md` (embedded, lines 39-257) |

### Recommended Actions (prioritized)

1. **Add `cicd-engineer` to coordination protocol** (finding #1) -- This is the highest priority because the coordination protocol is always-loaded and governs agent selection. Without the entry, the main agent lacks guidance on when to delegate CI/CD work. Owner: `context-engineer`.

2. **Update `agent-crafting` README agent table** (finding #2) -- Add the 6 missing agents to the "Current Agents" table in `skills/agent-crafting/README.md`. Owner: `context-engineer`.

3. **Make crafting skill descriptions tool-agnostic** (findings #3, #4, #8) -- Update the 3 crafting skill descriptions and remove the `compatibility: Claude Code` frontmatter field from all 5 affected skills. This aligns the crafting skills with the ecosystem's stated tool-agnostic philosophy. Owner: `context-engineer`.

4. **Monitor token budget** (finding #9) -- With only ~400 tokens of headroom, any addition to always-loaded content risks exceeding the budget. Consider this constraint before adding new rules or expanding CLAUDE.md. Owner: `user`.

## Automated Check Results (Pass 1)

### Completeness (C)

| Check | Result | Evidence |
|-------|--------|----------|
| C01 | PASS | 17 skill dirs, 17 SKILL.md files |
| C02 | PASS | All 17 SKILL.md files have `description:` in YAML frontmatter |
| C03 | PASS | All 11 agent .md files have `name`, `description`, `tools` in frontmatter |
| C04 | PASS | All 11 command .md files have `description:` field |
| C05 | PASS | plugin.json lists 11 agent paths, 11 agent .md files exist (excluding README.md) |

### Consistency (N)

| Check | Result | Evidence |
|-------|--------|----------|
| N01 | PASS | All skill dirs use lowercase kebab-case; `-crafting` suffix on crafting skills; `-development` suffix on language skills |
| N02 | PASS | All agent files use lowercase kebab-case `.md` |
| N03 | WARN | 5 skills use unrecognized `compatibility:` field in frontmatter (finding #4) |

### Freshness (F)

| Check | Result | Evidence |
|-------|--------|----------|
| F01 | PASS | All file paths referenced in active artifacts resolve. Stale references exist only in historical `.ai-state/` documents (findings #5, #6). |
| F02 | PASS | All skill reference file paths in SKILL.md files resolve to existing files in `references/` subdirectories (verified 29 reference files) |

### Spec Compliance (S)

| Check | Result | Evidence |
|-------|--------|----------|
| S01 | PASS | All SKILL.md files have non-empty `description` field |
| S02 | PASS | All agent .md files have non-empty `name`, `description`, `tools` fields |
| S03 | PASS | All 6 rule files (excluding READMEs) start with `##` heading as first non-blank line |
| S04 | PASS | Commands using `$ARGUMENTS` have the substitution marker in content |

### Cross-Reference Integrity (X)

| Check | Result | Evidence |
|-------|--------|----------|
| X01 | PASS | All 11 agent paths in plugin.json resolve to existing .md files |
| X02 | PASS | `skills/` contains 17 skill dirs; `commands/` contains 11 command files + README |
| X03 | N/A | Project CLAUDE.md has no `## Structure` section (by design -- structure is in `README_DEV.md`) |
| X05 | FAIL | Coordination protocol Available Agents table lists 10 agents; `cicd-engineer` missing (finding #1) |
| X06 | PASS | `agents/README.md` table lists all 11 agents matching `agents/*.md` files |

### Token Efficiency (T)

| Check | Result | Evidence |
|-------|--------|----------|
| T01 | PASS | All SKILL.md files under 500 lines (max: rule-crafting at 213 lines, cicd at 207 lines) |
| T02 | PASS | Always-loaded content estimated at ~8,100 tokens (~28,350 chars). Under 8,500 budget with 4.7% headroom. |
| T03 | WARN | Sentinel agent definition at 257 lines -- above 300-line WARN threshold? No, 257 < 300. PASS. |
| T04 | PASS | All reference files under 800 lines (max: `cicd/references/patterns-and-examples.md` at 637 lines) |
